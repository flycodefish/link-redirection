# 文本链接快速打开器

> 在网页中的纯文本 URL 旁添加快捷“打开”按钮，支持代码块内链接、高亮提示、右键菜单及按站点禁用。

**主要功能**
- **自动检测文本 URL**：在普通文本中的 URL（例如 `https://example.com`）旁自动插入 `打开` 按钮。
- **代码块支持**：会识别 `pre` / `code` 等代码块内的 URL 并添加按钮（样式与行为适配代码区）。
- **悬停提示**：按钮悬停显示完整 URL，便于确认目标地址。
- **右键菜单**：支持“在新标签页打开”、“在新窗口打开”、“复制链接地址”、“复制 Markdown 链接”、“禁用此网站”等操作。
- **站点级禁用**：可将当前网站加入禁用列表，避免在特定站点显示按钮。
- **快捷键**：默认注册 `Alt + Shift + L` 用于切换显示/隐藏按钮（也可通过扩展页面操作）。
- **无构建依赖**：纯静态扩展（manifest v3），可直接作为“未打包扩展”加载进行测试与调试。

**文件结构（主要）**
- `manifest.json`：扩展声明（Manifest V3）。
- `content.js`：内容脚本，负责检测文本 URL、插入按钮与交互逻辑。
- `content.css`：内容脚本所用样式。
- `popup.html` / `popup.js`：扩展弹出面板，显示开关、快捷键说明与页面统计。
- `background.js`：Service Worker，处理快捷键转发、打开新标签等后台任务。

**所需权限**
- `storage`：保存启用状态与禁用站点列表。
- `activeTab`、`scripting`：与当前标签页交互并执行脚本（manifest 中声明）。
- `host_permissions`：`<all_urls>`（用于在任意页面检测文本 URL）。

安装与本地调试
1. 下载或克隆此项目到本地：

   ```bash
   git clone <repo-url>
   ```

2. 打开 Chrome/Edge 等 Chromium 浏览器，进入扩展管理页面：`chrome://extensions/`。
3. 打开右上角「开发者模式」。
4. 点击「加载已解压的扩展程序」，选择本仓库目录（含 `manifest.json` 的文件夹）。
5. 安装后可以点击工具栏图标打开弹出面板，或在任意页面测试插件效果。

调试小贴士
- 在 `chrome://extensions/` 中找到扩展，点击「背景页（Service Worker）→ 检查视图」查看 `background.js` 的日志。
- 在任意页面右键 → 检查（DevTools）→ 在 Console 中查看 `content.js` 的输出与报错。
- 弹出面板（`popup.html`）也可以通过扩展页面的「检查视图」打开控制台进行调试。

使用说明
- 启用/禁用：点击扩展弹出面板中的开关，或使用快捷键 `Alt + Shift + L` 切换。
- 快速打开：点击插入在 URL 旁的 `打开` 按钮（或按钮上的特定标签，比如 GitHub/DOI 等）。
- 右键菜单：在按钮上右键可选择更多操作（打开、复制、禁用站点等）。
- 重新扫描：弹出面板提供“重新扫描当前页面”按钮，手动触发检测与插入。

已知限制与注意事项
- 某些受限页面（如 Chrome 内置页面、扩展商店页面）内容脚本无法注入，因此功能不可用。
- URL 的识别使用简单正则，极少数边缘 URL 格式可能无法被正确检测。
- 在高度动态或复杂的单页应用中，MutationObserver 用于监听新增节点，但极端频繁的 DOM 变化可能影响性能。

贡献 & 发布
- 欢迎提交 Issue 或 Pull Request：请描述你的改进建议与复现步骤。
- 本项目为纯前端扩展，若需要打包为 CRX 或发布至 Chrome Web Store，请在发布前补充 `icons` 和 `LICENSE` 文件并遵循商店发布流程。

版权与许可
- 请在发布前添加一个 `LICENSE` 文件（推荐 MIT）。

联系方式
- 如果你想合作或讨论功能改进，请在仓库中开 Issue 或直接发起 Pull Request。


